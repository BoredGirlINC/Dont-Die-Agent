<!DOCTYPE html>
<html lang="en" data-theme="dontdie">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Don't Die Agent - Your AI Life Blueprint Generator</title>
    <link href="https://cdn.jsdelivr.net/npm/daisyui@4.7.2/dist/full.min.css" rel="stylesheet" type="text/css" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="min-h-screen bg-[#fef4f8]">
    <!-- Navigation -->
    <div class="navbar bg-[#f83c89] text-white shadow-lg">
        <div class="flex-1">
            <a class="btn btn-ghost text-xl">
                <span class="text-[#ffd541] font-bold">Don't Die</span> Agent
            </a>
        </div>
        <div class="flex-none gap-2">
            <button id="profile-button" class="btn bg-[#7cc0e4] hover:bg-[#5fa9d0] border-none text-white" style="display: none;">
                <i class="bi bi-person-circle mr-2"></i> Profile
            </button>
            <button id="login-button" class="btn bg-[#ffd541] hover:bg-[#ebc23a] border-none text-[#464655]">
                <i class="bi bi-box-arrow-in-right mr-2"></i> Sign In
            </button>
        </div>
    </div>

    <!-- Main Content -->
    <main class="container mx-auto px-4 py-8">
        <!-- Blueprint Section -->
        <section id="blueprint-section" class="text-center mb-12">
            <div class="character-container flex justify-center mb-4">
                <div class="animate-bounce-slow">
                    <img src="/src/assets/character.png" alt="Character" class="w-32 h-32">
                </div>
            </div>
            
            <h1 class="fun-title">Don't Die Agent</h1>
            <p class="fun-subtitle">Get your personalized life blueprint from an AI that doesn't want you to die.</p>
            
            <button id="get-blueprint-button" class="btn bg-[#f83c89] hover:bg-[#e0357a] border-none text-white text-lg px-8 py-3 rounded-full shadow-lg transform transition hover:scale-105">
                <i class="bi bi-clipboard2-pulse-fill mr-2"></i> Get your Blueprint
            </button>

            <div class="mt-8 flex justify-center">
                <div class="bg-white p-6 rounded-xl border-4 border-[#ffd541] shadow-xl max-w-lg">
                    <h2 class="text-2xl font-bold text-[#464655] mb-4">Why Use Don't Die Agent?</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div class="flex items-start">
                            <div class="text-[#f83c89] mr-2 text-xl">üí™</div>
                            <p class="text-left">Personalized health recommendations</p>
                        </div>
                        <div class="flex items-start">
                            <div class="text-[#f83c89] mr-2 text-xl">üß†</div>
                            <p class="text-left">Mental wellness strategies</p>
                        </div>
                        <div class="flex items-start">
                            <div class="text-[#f83c89] mr-2 text-xl">üçé</div>
                            <p class="text-left">Custom diet plans</p>
                        </div>
                        <div class="flex items-start">
                            <div class="text-[#f83c89] mr-2 text-xl">üõå</div>
                            <p class="text-left">Sleep optimization advice</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Chat Section -->
        <section id="chat-section" class="max-w-4xl mx-auto">
            <div class="card bg-white shadow-xl border-4 border-[#f83c89] rounded-xl overflow-hidden">
                <div class="card-header bg-[#f83c89] text-white p-4">
                    <div class="flex items-center">
                        <div class="avatar">
                            <div class="w-12 h-12 rounded-full bg-white p-1">
                                <img src="/src/assets/character.png" alt="AI Assistant" />
                            </div>
                        </div>
                        <div class="ml-4">
                            <h3 class="text-xl font-bold">Health Assistant</h3>
                            <p class="text-sm opacity-80">Here to help you not die</p>
                        </div>
                    </div>
                </div>
                <div class="card-body p-0">
                    <!-- Chat Messages -->
                    <div id="chat-messages" class="h-[400px] overflow-y-auto p-4 space-y-4 bg-[#fef4f8]">
                        <!-- Initial message -->
                        <div class="chat chat-start">
                            <div class="chat-image avatar">
                                <div class="w-10 rounded-full bg-[#7cc0e4] text-white grid place-items-center">
                                    <i class="bi bi-robot text-lg"></i>
                                </div>
                            </div>
                            <div class="chat-bubble bg-[#7cc0e4] text-white">
                                Hello! I'm your longevity expert, well-versed in health and wellness. How can I help you optimize your life today?
                            </div>
                        </div>
                    </div>

                    <!-- Chat Input -->
                    <div class="border-t bg-white p-4">
                        <div class="flex gap-2">
                            <input type="text" id="chat-input" 
                                   class="input bg-[#fef4f8] border-2 border-[#7cc0e4] flex-1" 
                                   placeholder="Ask about longevity, health, or anything..."
                                   onkeypress="if(event.key === 'Enter') document.getElementById('send-message').click()">
                            <button id="send-message" class="btn bg-[#7cc0e4] hover:bg-[#5fa9d0] border-none text-white">
                                <i class="bi bi-send"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Profile Section -->
        <section id="profile-section" class="hidden">
            <div class="bg-white p-6 rounded-xl border-4 border-[#f83c89] shadow-xl mb-8">
                <div class="flex items-center">
                    <div class="avatar">
                        <div class="w-24 h-24 rounded-full border-4 border-[#ffd541]">
                            <img id="profile-image" src="/src/assets/character.png" alt="Profile" />
                        </div>
                    </div>
                    <div class="ml-4">
                        <h2 id="profile-name" class="text-2xl font-bold text-[#464655]">User Name</h2>
                        <p id="profile-bio" class="text-[#464655]">Bio</p>
                        
                        <!-- Emoji Status Section -->
                        <div class="mt-2">
                            <p class="text-[#464655] text-sm font-medium">me rn:</p>
                            <div id="emoji-status" class="flex mt-1 gap-1">
                                <div class="emoji-slot w-10 h-10 bg-[#fef4f8] rounded-full flex items-center justify-center text-2xl cursor-pointer border-2 border-[#f83c89]">
                                    üòä
                                </div>
                                <div class="emoji-slot w-10 h-10 bg-[#fef4f8] rounded-full flex items-center justify-center text-2xl cursor-pointer border-2 border-[#f83c89]">
                                    üëç
                                </div>
                                <div class="emoji-slot w-10 h-10 bg-[#fef4f8] rounded-full flex items-center justify-center text-2xl cursor-pointer border-2 border-[#f83c89]">
                                    üéâ
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="ml-auto flex gap-2">
                        <button id="edit-profile" class="btn bg-[#7cc0e4] hover:bg-[#5fa9d0] border-none text-white">
                            <i class="bi bi-pencil-fill mr-2"></i> Edit Profile
                        </button>
                        <button id="sign-out" class="btn bg-[#ffd541] hover:bg-[#ebc23a] border-none text-[#464655]">
                            <i class="bi bi-box-arrow-right mr-2"></i> Sign Out
                        </button>
                    </div>
                </div>
            </div>

            <div class="alert bg-[#56c271] text-white mb-6">
                <i class="bi bi-check-circle-fill text-2xl"></i>
                <span>You logged in successfully! Here are your saved blueprints.</span>
            </div>

            <div class="divider">
                <div class="bg-[#ffd541] text-[#464655] px-4 py-1 rounded-full font-bold">Your Blueprints</div>
            </div>

            <div id="blueprints-container" class="grid gap-4">
                <!-- Blueprints will be rendered here -->
            </div>
        </section>
        
        <!-- Add Emoji Modal -->
        <div id="emoji-modal" class="modal">
            <div class="modal-box relative bg-white border-4 border-[#f83c89] rounded-xl max-h-[90vh] overflow-y-auto">
                <button class="btn btn-sm btn-circle absolute right-2 top-2 bg-[#ffd541] border-none text-[#464655]" onclick="document.getElementById('emoji-modal').classList.remove('modal-open')">‚úï</button>
                <h3 class="font-bold text-2xl mb-4 text-[#f83c89]">Select an Emoji</h3>
                
                <input type="text" id="emoji-search" placeholder="Search emojis..." class="input bg-[#fef4f8] border-2 border-[#7cc0e4] w-full mb-4">
                
                <div id="current-selection" class="mb-4 p-3 bg-[#fef4f8] rounded-lg text-center">
                    <span class="text-[#464655] text-sm">Currently selected:</span>
                    <div class="text-5xl mt-2">üòä</div>
                </div>
                
                <!-- Common Emoji Categories -->
                <div class="grid grid-cols-8 gap-2 mb-6">
                    <button class="emoji-category btn btn-sm bg-[#ffd541] border-none text-[#464655]" data-category="smileys">üòä</button>
                    <button class="emoji-category btn btn-sm bg-[#ffd541] border-none text-[#464655]" data-category="people">üëã</button>
                    <button class="emoji-category btn btn-sm bg-[#ffd541] border-none text-[#464655]" data-category="animals">üê±</button>
                    <button class="emoji-category btn btn-sm bg-[#ffd541] border-none text-[#464655]" data-category="food">üçé</button>
                    <button class="emoji-category btn btn-sm bg-[#ffd541] border-none text-[#464655]" data-category="activities">‚öΩ</button>
                    <button class="emoji-category btn btn-sm bg-[#ffd541] border-none text-[#464655]" data-category="travel">üöó</button>
                    <button class="emoji-category btn btn-sm bg-[#ffd541] border-none text-[#464655]" data-category="objects">üí°</button>
                    <button class="emoji-category btn btn-sm bg-[#ffd541] border-none text-[#464655]" data-category="symbols">‚ù§Ô∏è</button>
                </div>
                
                <!-- Emoji Grid -->
                <div id="emoji-grid" class="grid grid-cols-8 gap-2">
                    <!-- Emojis will be loaded here -->
                    <button class="emoji-btn p-2 text-2xl hover:bg-[#fef4f8] rounded">üòÄ</button>
                    <button class="emoji-btn p-2 text-2xl hover:bg-[#fef4f8] rounded">üòÉ</button>
                    <button class="emoji-btn p-2 text-2xl hover:bg-[#fef4f8] rounded">üòÑ</button>
                    <button class="emoji-btn p-2 text-2xl hover:bg-[#fef4f8] rounded">üòÅ</button>
                    <button class="emoji-btn p-2 text-2xl hover:bg-[#fef4f8] rounded">üòÜ</button>
                    <button class="emoji-btn p-2 text-2xl hover:bg-[#fef4f8] rounded">üòÖ</button>
                    <button class="emoji-btn p-2 text-2xl hover:bg-[#fef4f8] rounded">ü§£</button>
                    <button class="emoji-btn p-2 text-2xl hover:bg-[#fef4f8] rounded">üòÇ</button>
                    <!-- More emojis would be added dynamically -->
                </div>
                
                <div class="modal-action">
                    <button id="save-emoji" class="btn bg-[#f83c89] hover:bg-[#e0357a] border-none text-white">
                        <i class="bi bi-check-lg mr-2"></i> Save
                    </button>
                </div>
            </div>
            <form method="dialog" class="modal-backdrop">
                <button>close</button>
            </form>
        </div>
    </main>

    <!-- Auth Modal -->
    <div id="auth-modal" class="modal">
        <div class="modal-box relative bg-white border-4 border-[#f83c89] rounded-xl">
            <button class="btn btn-sm btn-circle absolute right-2 top-2 bg-[#ffd541] border-none text-[#464655]" onclick="document.getElementById('auth-modal').classList.remove('modal-open')">‚úï</button>
            <h3 class="font-bold text-2xl mb-4 text-[#f83c89]">Sign In</h3>
            
            <button id="google-signin" class="auth-button">
                <i class="bi bi-google mr-2"></i> Continue with Google
            </button>
            
            <button id="twitter-signin" class="auth-button">
                <i class="bi bi-twitter mr-2"></i> Continue with Twitter
            </button>
            
            <div class="divider">OR</div>
            
            <form id="email-signin-form" class="form-control">
                <input type="email" name="email" placeholder="Email" class="input bg-[#fef4f8] border-2 border-[#7cc0e4] mb-2" required />
                <input type="password" name="password" placeholder="Password" class="input bg-[#fef4f8] border-2 border-[#7cc0e4] mb-2" required />
                <button type="submit" class="btn bg-[#f83c89] hover:bg-[#e0357a] border-none text-white">
                    <i class="bi bi-envelope-fill mr-2"></i> Sign In with Email
                </button>
            </form>
            
            <div class="mt-4 text-center">
                <p class="text-[#464655] mb-2">Don't have an account?</p>
                <button id="open-signup-modal" class="btn bg-[#ffd541] hover:bg-[#ebc23a] border-none text-[#464655]">
                    <i class="bi bi-person-plus-fill mr-2"></i> Sign Up
                </button>
            </div>
        </div>
        <form method="dialog" class="modal-backdrop">
            <button>close</button>
        </form>
    </div>

    <!-- Signup Modal -->
    <div id="signup-modal" class="modal">
        <div class="modal-box relative bg-white border-4 border-[#f83c89] rounded-xl">
            <button class="btn btn-sm btn-circle absolute right-2 top-2 bg-[#ffd541] border-none text-[#464655]" onclick="document.getElementById('signup-modal').classList.remove('modal-open')">‚úï</button>
            <h3 class="font-bold text-2xl mb-4 text-[#f83c89]">Create Account</h3>
            
            <form id="signup-form" class="form-control">
                <div class="form-control mb-4">
                    <label class="label">
                        <span class="label-text font-semibold text-[#464655]">Alias</span>
                    </label>
                    <input type="text" name="alias" placeholder="Choose a display name" class="input bg-[#fef4f8] border-2 border-[#7cc0e4]" required />
                </div>
                
                <div class="form-control mb-4">
                    <label class="label">
                        <span class="label-text font-semibold text-[#464655]">Email</span>
                    </label>
                    <input type="email" name="email" placeholder="Your email address" class="input bg-[#fef4f8] border-2 border-[#7cc0e4]" required />
                </div>
                
                <div class="form-control mb-4">
                    <label class="label">
                        <span class="label-text font-semibold text-[#464655]">Password</span>
                    </label>
                    <input type="password" name="password" placeholder="Secure password" class="input bg-[#fef4f8] border-2 border-[#7cc0e4]" required />
                </div>
                
                <button type="submit" class="btn bg-[#f83c89] hover:bg-[#e0357a] border-none text-white">
                    <i class="bi bi-check-lg mr-2"></i> Create Account
                </button>
            </form>
            
            <div class="mt-4 text-center">
                <p class="text-[#464655] mb-2">Already have an account?</p>
                <button id="back-to-signin" class="btn bg-[#7cc0e4] hover:bg-[#5fa9d0] border-none text-white">
                    <i class="bi bi-box-arrow-in-right mr-2"></i> Sign In
                </button>
            </div>
        </div>
        <form method="dialog" class="modal-backdrop">
            <button>close</button>
        </form>
    </div>

    <!-- Blueprint Form Modal -->
    <div id="blueprint-form-modal" class="modal">
        <div class="modal-box relative bg-white border-4 border-[#f83c89] rounded-xl">
            <button class="btn btn-sm btn-circle absolute right-2 top-2 bg-[#ffd541] border-none text-[#464655]" onclick="document.getElementById('blueprint-form-modal').classList.remove('modal-open')">‚úï</button>
            <h3 class="font-bold text-2xl mb-4 text-[#f83c89]">Your Blueprint Details</h3>
            
            <form id="blueprint-form" class="form-control">
                <div class="form-control mb-4">
                    <label class="label">
                        <span class="label-text font-semibold text-[#464655]">Name</span>
                    </label>
                    <input type="text" id="name" name="name" class="input bg-[#fef4f8] border-2 border-[#7cc0e4]" required>
                </div>

                <div class="form-control mb-4">
                    <label class="label">
                        <span class="label-text font-semibold text-[#464655]">City</span>
                    </label>
                    <input type="text" id="city" name="city" class="input bg-[#fef4f8] border-2 border-[#7cc0e4]" required>
                </div>

                <div class="form-control mb-4">
                    <label class="label">
                        <span class="label-text font-semibold text-[#464655]">Country</span>
                    </label>
                    <input type="text" id="country" name="country" class="input bg-[#fef4f8] border-2 border-[#7cc0e4]" required>
                </div>

                <div class="form-control mb-4">
                    <label class="label">
                        <span class="label-text font-semibold text-[#464655]">Dietary Options</span>
                    </label>
                    <select id="dietaryRestrictions" name="dietaryRestrictions" class="select bg-[#fef4f8] border-2 border-[#7cc0e4]">
                        <option value="">Select...</option>
                        <option value="none">None</option>
                        <option value="vegetarian">Vegetarian</option>
                        <option value="vegan">Vegan</option>
                        <option value="pescetarian">Pescetarian</option>
                        <option value="gluten-free">Gluten-Free</option>
                        <option value="dairy-free">Dairy-Free</option>
                    </select>
                </div>

                <div class="form-control mb-4">
                    <label class="label">
                        <span class="label-text font-semibold text-[#464655]">Exercise Preferences</span>
                    </label>
                    <select id="exercisePreferences" name="exercisePreferences" class="select bg-[#fef4f8] border-2 border-[#7cc0e4]">
                        <option value="">Select...</option>
                        <option value="cardio">Cardio</option>
                        <option value="strength-training">Strength Training</option>
                        <option value="yoga">Yoga</option>
                        <option value="pilates">Pilates</option>
                        <option value="running">Running</option>
                        <option value="swimming">Swimming</option>
                    </select>
                </div>

                <button type="submit" class="btn bg-[#f83c89] hover:bg-[#e0357a] border-none text-white">
                    <i class="bi bi-magic mr-2"></i> Generate Blueprint
                </button>
            </form>
        </div>
        <form method="dialog" class="modal-backdrop">
            <button>close</button>
        </form>
    </div>

    <!-- Blueprint Result Modal -->
    <div id="blueprint-result-modal" class="modal">
        <div class="modal-box relative max-w-3xl bg-white border-4 border-[#f83c89] rounded-xl">
            <button class="btn btn-sm btn-circle absolute right-2 top-2 bg-[#ffd541] border-none text-[#464655]" onclick="document.getElementById('blueprint-result-modal').classList.remove('modal-open')">‚úï</button>
            <h3 class="font-bold text-2xl mb-4 text-[#f83c89]">Your Personalized Blueprint</h3>
            <div id="blueprint-result-content" class="prose max-w-none mb-4 bg-[#fef4f8] p-4 rounded-lg"></div>
            <div class="modal-action">
                <button id="save-blueprint" class="btn bg-[#7cc0e4] hover:bg-[#5fa9d0] border-none text-white">
                    <i class="bi bi-save mr-2"></i> Save Blueprint
                </button>
            </div>
        </div>
        <form method="dialog" class="modal-backdrop">
            <button>close</button>
        </form>
    </div>

    <!-- Edit Profile Modal -->
    <div id="edit-profile-modal" class="modal">
        <div class="modal-box relative bg-white border-4 border-[#f83c89] rounded-xl">
            <button class="btn btn-sm btn-circle absolute right-2 top-2 bg-[#ffd541] border-none text-[#464655]" onclick="document.getElementById('edit-profile-modal').classList.remove('modal-open')">‚úï</button>
            <h3 class="font-bold text-2xl mb-4 text-[#f83c89]">Edit Profile</h3>
            <form id="edit-profile-form" class="form-control">
                <input type="text" name="displayName" placeholder="Display Name" class="input bg-[#fef4f8] border-2 border-[#7cc0e4] mb-2" required />
                <textarea name="bio" placeholder="Bio" class="textarea bg-[#fef4f8] border-2 border-[#7cc0e4] mb-2"></textarea>
                <button type="submit" class="btn bg-[#f83c89] hover:bg-[#e0357a] border-none text-white">
                    <i class="bi bi-check-lg mr-2"></i> Save Changes
                </button>
            </form>
        </div>
        <form method="dialog" class="modal-backdrop">
            <button>close</button>
        </form>
    </div>

    <!-- Loading Indicator -->
    <div id="loading-indicator" class="fixed inset-0 bg-black bg-opacity-50 items-center justify-center hidden">
        <div class="card bg-white p-8 border-4 border-[#f83c89] rounded-xl">
            <div class="flex flex-col items-center">
                <img src="/src/assets/character.png" alt="Loading" class="w-20 h-20 animate-bounce-slow mb-4">
                <div class="loading loading-spinner loading-lg text-[#f83c89]"></div>
                <p class="mt-4 text-center text-[#464655] font-bold">Thinking...</p>
            </div>
        </div>
    </div>

    <footer class="bg-[#464655] text-white p-6 mt-12">
        <div class="container mx-auto text-center">
            <p class="text-lg mb-2">Don't Die Agent - Your AI Life Blueprint Generator</p>
            <p class="text-sm opacity-70">Inspired by the Dumb Ways to Die safety campaign</p>
            <div class="flex justify-center mt-4 space-x-4">
                <a href="#" class="text-[#ffd541] hover:text-[#f83c89]"><i class="bi bi-github text-xl"></i></a>
                <a href="#" class="text-[#ffd541] hover:text-[#f83c89]"><i class="bi bi-twitter text-xl"></i></a>
                <a href="#" class="text-[#ffd541] hover:text-[#f83c89]"><i class="bi bi-envelope-fill text-xl"></i></a>
            </div>
        </div>
    </footer>

    <script type="module" src="/src/main.js"></script>
</body>
</html>
